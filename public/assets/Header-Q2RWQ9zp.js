import{j as e,au as x,aw as S,a8 as A,z as p,L as o,ax as z,r as j,m as B,R as u,ay as P,az as E,aA as M}from"./index-CX54NAfH.js";import{a as N}from"./index-D_wiEdQb.js";import{c as R,d as F,B as w}from"./index-C0Q8_ww0.js";import{a as b}from"./index-CCU2qiFB.js";import{l as f}from"./PageLinks-nIE2Ohpf.js";import{a as $,b as O,c as Z}from"./index-CwYqYvcV.js";const y="/assets/SukoonSphere_Logo-DIywWUj7.png";function q({links:a}){return e.jsx("div",{className:"hidden lg:flex justify-center flex-grow",children:e.jsx("ul",{className:"flex mt-[.8rem] h-10 gap-5 items-center",children:a.map((s,n)=>e.jsx(D,{link:s,index:n},s.name))})})}const D=({link:a,index:s})=>e.jsxs("div",{className:"group relative h-full align-middle",children:[e.jsxs(x,{to:a.address,className:"flex group items-center justify-center ",children:[e.jsx("span",{className:"ml-2",children:a.name}),s!==0&&e.jsx(S,{className:"size-[1.4rem] ml-1 group-hover:rotate-180 transition-all duration-300 ease-in-out transform hover:scale-110 text-[var(--primary)] group-hover:text-[var(--ternery)] drop-shadow-sm hover:drop-shadow-md"})]}),a.sublinks&&e.jsx(H,{sublinks:a.sublinks})]}),H=({sublinks:a})=>e.jsxs("ul",{className:"top-14 absolute opacity-0 max-h-0 invisible group-hover:opacity-100 group-hover:max-h-[500px] group-hover:visible transition-[opacity, max-height, transform] duration-300 ease-in-out transform group-hover:translate-y-1 shadow-[0px_1px_10px_rgba(0,0,0,0.1)] bg-white p-2 rounded-[5px] w-72",children:[e.jsx(R,{className:"text-lg absolute -top-3 left-5 text-white"}),a.map(s=>e.jsx(K,{sublink:s},s.name))]}),K=({sublink:a})=>e.jsx("li",{className:"transition-opacity duration-300 ease-in-out border-b-[2px] border-gray-500] last-of-type:border-none",children:e.jsxs(x,{to:a.address,className:"flex items-center gap-2 px-2 py-2 text-[var(--primary)] hover:text-[var(--ternery)] opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[e.jsx("div",{className:"border bg-[var(--primary)] text-white text-base border-[var(--primary)] rounded-full p-2 font-bold",children:a.icon}),e.jsxs("div",{className:"flex flex-col ml-2 text-[16px] text-gray-600",children:[e.jsx("span",{className:"hover:text-[var(--ternery)]",children:a.name}),e.jsx("span",{className:"text-[12px] text-gray-400",children:a.description})]})]})});function L(a){return A({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Medal"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.692,3.755a1.519,1.519,0,0,0-1.27-.69h-4.41a1.487,1.487,0,0,0-1.36.87L12,7.485l-1.66-3.55a1.487,1.487,0,0,0-1.36-.87H4.572a1.5,1.5,0,0,0-1.35,2.14l3.73,8.02a5.638,5.638,0,0,0-.46,2.21,5.5,5.5,0,0,0,11,0,5.419,5.419,0,0,0-.46-2.2l3.75-8.03A1.525,1.525,0,0,0,20.692,3.755ZM4.122,4.785a.527.527,0,0,1,.03-.49.494.494,0,0,1,.42-.23h4.41a.507.507,0,0,1,.46.29l2.61,5.58h-.06a5.505,5.505,0,0,0-4.43,2.25Zm7.87,15.15a4.5,4.5,0,1,1,4.5-4.5A4.5,4.5,0,0,1,11.992,19.935Zm7.89-15.15-3.46,7.4a5.454,5.454,0,0,0-3.21-2.11l-.66-1.42,2-4.3a.507.507,0,0,1,.46-.29h4.41a.482.482,0,0,1,.42.23A.505.505,0,0,1,19.882,4.785Z"},child:[]},{tag:"path",attr:{d:"M12.077,16.88l1.024.538a.174.174,0,0,0,.253-.184l-.2-1.14a.174.174,0,0,1,.051-.154l.828-.807a.175.175,0,0,0-.1-.3L12.8,14.669a.177.177,0,0,1-.132-.1l-.512-1.037a.174.174,0,0,0-.313,0l-.512,1.037a.174.174,0,0,1-.131.1l-1.145.166a.175.175,0,0,0-.1.3l.828.807a.174.174,0,0,1,.05.154l-.2,1.14a.174.174,0,0,0,.253.184l1.024-.538A.172.172,0,0,1,12.077,16.88Z"},child:[]}]}]}]})(a)}function T({user:a,miniMenu:s,handleLogout:n}){const{user:l}=p();return e.jsx("div",{className:`${s?"opacity-100 max-h-[500px] ":"opacity-0 max-h-0"} absolute overflow-hidden transition-all duration-300 
      ease-in-out shadow-lg rounded-[4px] bg-[var(--body)] flex flex-col w-72 top-[4.5rem] right-[7.5rem]`,style:{transition:"opacity 0.5s ease, max-height 0.5s ease "},children:e.jsxs("div",{className:"flex items-center flex-col gap-4 pb-3 relative",children:[e.jsx("div",{className:"bg-[var(--primary)] w-full h-[100px] flex items-center justify-center relative rounded-t-lg",children:e.jsx("h4",{className:"text-white text-lg font-bold",children:a==null?void 0:a.name})}),e.jsxs("div",{className:"flex flex-col justify-center items-center mt-[-40px] z-10",children:[e.jsx("img",{className:"w-12 h-12 object-cover rounded-full border-1 border-black shadow-lg",src:(a==null?void 0:a.avatar)||"https://cdn-icons-png.flaticon.com/512/147/147142.png",alt:"User"}),e.jsx("h4",{className:"text-[var(--gray--900)] mt-2 font-semibold",children:a==null?void 0:a.name}),e.jsx("p",{className:"text-[var(--grey--800)] text-sm",children:a==null?void 0:a.email}),e.jsx("div",{className:"mt-2"}),e.jsx("div",{className:"flex gap-1",children:e.jsx(V,{loggedInUser:l})}),e.jsx("div",{className:"flex justify-center gap-4 mt-4",children:e.jsx("button",{onClick:n,className:"btn-2",children:"Logout"})})]})]})})}const V=({loggedInUser:a})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative group",children:[e.jsx(o,{to:"/user/change-passowrd",children:e.jsx("button",{className:"bg-gray-800 hover:bg-gray-900 text-white rounded-full p-2",children:e.jsx(F,{className:"text-lg"})})}),e.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 -top-10 bg-gray-800 text-white text-sm rounded py-1 px-3 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300",children:["Change Password",e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 button-4 w-2 h-2 bg-gray-800 rotate-45"})]})]}),((a==null?void 0:a.role)!=="contributor"||(a==null?void 0:a.role)==="admin")&&e.jsxs("div",{className:"relative group",children:[e.jsx(o,{to:"/user/request-contributor",children:e.jsx("button",{className:"bg-gray-800 hover:bg-gray-900 text-white rounded-full p-2",children:e.jsx(L,{className:"size-5"})})}),e.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 -top-10 bg-gray-800 text-white text-sm rounded py-1 px-3 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300",children:["Request to contribute",e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2  button-4 w-2 h-2 bg-gray-800 rotate-45"})]})]}),(a==null?void 0:a.role)==="admin"&&e.jsxs("div",{className:"relative group",children:[e.jsx(o,{to:"/admin",children:e.jsx("button",{className:"bg-gray-800 hover:bg-gray-900 text-white rounded-full p-2",children:e.jsx(z,{className:"text-lg"})})}),e.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 -top-10 bg-gray-800 text-white text-sm rounded py-1 px-3 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300",children:["Admin",e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2  button-4 w-2 h-2 bg-gray-800 rotate-45"})]})]})]});function G(){const[a,s]=j.useState(null),[n,l]=j.useState(!1),d=B(),{user:r,logout:m}=p(),_=()=>l(!n),v=t=>{s(t===a?null:t)},{user:c}=p();u.useEffect(()=>{const t=h=>{a!==null&&s(null)};return document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[a]);const g=async()=>{try{await m(),l(!1),d("/")}catch(t){console.error("Logout failed:",t)}},C=r?[...(c==null?void 0:c.role)!=="contributor"?[...(c==null?void 0:c.role)==="admin"?[{name:"Notifications",address:"/admin",icon:e.jsx(P,{})}]:[],{name:"Become a contributor",address:"/user/request-contributor",icon:e.jsx(L,{})}]:[],{name:"Change Password",address:"/user/change-password",icon:e.jsx(E,{})},{name:"Logout",icon:e.jsx(N,{}),onClick:g}]:[{name:"Sign Up",address:"/auth/sign-up",icon:e.jsx(M,{})},{name:"Login",address:"/auth/sign-in",icon:e.jsx($,{})}];return e.jsxs(e.Fragment,{children:[e.jsx("nav",{className:"hidden lg:flex w-full bg-[var(--white-color)] sticky top-0 items-center justify-between shadow-[0px_1px_10px_rgba(0,0,0,0.1)] z-50 transition-all ease-in-out p-2 h-[65px]",children:e.jsxs("div",{className:"flex w-full justify-between items-center px-4 lg:px-20",children:[e.jsx(o,{to:"/",children:e.jsx("img",{src:y,className:"object-contain w-14",alt:"Logo Loading..."})}),e.jsx(q,{links:f}),r?e.jsx(W,{user:r,miniMenu:n,toggleMiniMenu:_,handleLogout:g}):e.jsx(J,{})]})}),e.jsx("header",{className:"lg:hidden  left-0 right-0 bg-[var(--white-color)] h-14 z-50",children:e.jsxs("div",{className:"flex items-center justify-between h-full px-4",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(o,{to:"/",children:e.jsx("img",{src:y,className:"object-contain h-8 w-auto",alt:"Logo"})})}),e.jsxs("div",{className:"flex items-center gap-4",children:[r&&e.jsx(o,{to:"/Posts",children:e.jsx(O,{className:"text-2xl"})}),r?e.jsx(o,{to:`/about/user/${r._id}`,children:e.jsx("img",{src:(r==null?void 0:r.avatar)||"https://cdn-icons-png.flaticon.com/512/147/147142.png",alt:"User",className:"w-8 h-8 rounded-full object-cover"})}):e.jsx(o,{to:"/auth/sign-in",children:e.jsxs("button",{className:"bg-[var(--secondary)] px-2 py-1 text-sm rounded-[6px] hover:scale-105 transition-all duration-300 hover:bg-[var(--secondary-hover)] flex items-center",children:[e.jsx(Z,{className:"text-xl text-gray-600 inline-block"}),e.jsx("span",{className:"ml-2",children:"Sign In"})]})})]})]})}),e.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-[var(--white-color)] shadow-[0_-2px_10px_rgba(0,0,0,0.1)] z-50",children:e.jsxs("div",{className:"flex justify-around items-center h-16",children:[f.map((t,h)=>e.jsx("div",{className:"relative group",children:t.sublinks?e.jsxs("div",{className:"p-2 text-2xl text-[var(--grey--800)] hover:text-[var(--ternery)] transform transition-all duration-150 hover:scale-110 active:scale-95",onClick:i=>{i.stopPropagation(),v(h)},children:[t.icon,e.jsxs("div",{className:`absolute bottom-full left-1/2 -translate-x-1/2 mb-2 bg-[var(--white-color)] rounded-2xl shadow-xl p-2 w-fit border border-[var(--grey--400)] transition-all duration-200 ease-out ${a===h?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:[e.jsx("div",{className:"flex flex-col space-y-3",children:t.sublinks.map(i=>e.jsxs(x,{to:i.address,className:({isActive:k})=>`flex items-center gap-3 p-2 rounded-xl whitespace-nowrap transform transition-all duration-150 hover:scale-105 active:scale-95 ${k?"bg-[var(--blue--100)] text-[var(--ternery)] shadow-sm":"hover:bg-[var(--grey--200)] text-[var(--grey--800)]"}`,onClick:()=>s(null),children:[e.jsx("div",{className:"text-xl",children:i.icon}),e.jsx("span",{className:"text-sm",children:i.name})]},i.name))}),e.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-[var(--white-color)] transform rotate-45 border-r border-b border-[var(--grey--400)] z-[-1]"})]})]}):e.jsx(x,{to:t.address,className:({isActive:i})=>`p-2 text-2xl transform transition-all duration-150 hover:scale-110 active:scale-95 ${i?"text-[var(--ternery)]":"text-[var(--grey--800)] hover:text-[var(--ternery)]"}`,children:t.icon})},t.name)),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"p-2 text-2xl text-[var(--grey--800)] hover:text-[var(--ternery)] transform transition-all duration-150 hover:scale-110 active:scale-95",onClick:t=>{t.stopPropagation(),v("settings")},children:e.jsx(w,{})}),e.jsxs("div",{className:`absolute bottom-full right-2 mb-2 bg-[var(--white-color)] rounded-2xl shadow-xl p-2 w-fit border border-[var(--grey--400)] transition-all duration-200 ease-out ${a==="settings"?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:[e.jsx("div",{className:"flex flex-col space-y-3",children:C.map(t=>t.onClick?e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-[var(--grey--200)] rounded-xl cursor-pointer whitespace-nowrap transform transition-all duration-150 hover:scale-105 active:scale-95",onClick:()=>{t.onClick(),s(null)},children:[e.jsx("div",{className:"text-xl text-[var(--grey--800)]",children:t.icon}),e.jsx("span",{className:"text-sm text-[var(--grey--800)]",children:t.name})]},t.name):e.jsxs(o,{to:t.address,className:"flex items-center gap-3 p-2 hover:bg-[var(--grey--200)] rounded-xl whitespace-nowrap transform transition-all duration-150 hover:scale-105 active:scale-95",onClick:()=>s(null),children:[e.jsx("div",{className:"text-xl text-[var(--grey--800)]",children:t.icon}),e.jsx("span",{className:"text-sm text-[var(--grey--800)]",children:t.name})]},t.name))}),e.jsx("div",{className:"absolute -bottom-2 right-4 w-4 h-4 bg-[var(--white-color)] transform rotate-45 border-r border-b border-[var(--grey--400)] z-[-1]"})]})]})]})})]})}const W=({user:a,miniMenu:s,toggleMiniMenu:n,handleLogout:l})=>{const d=u.useRef(null);return u.useEffect(()=>{const r=m=>{d.current&&!d.current.contains(m.target)&&s&&n()};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[s,n]),e.jsxs("div",{ref:d,children:[e.jsxs("div",{className:"hidden lg:flex items-center justify-center gap-2",children:[e.jsx(o,{to:`about/user/${a._id}`,children:e.jsxs("div",{className:"group relative",children:[e.jsx("img",{className:"w-9 h-9 object-cover rounded-full border-[3px] border-[var(--grey--600)] hover:border-[var(--ternery)]",src:(a==null?void 0:a.avatar)||"https://cdn-icons-png.flaticon.com/512/147/147142.png",alt:"User"}),e.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-[var(--grey--900)] text-[var(--white-color)] px-2 py-1 rounded text-sm opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"View Profile"})]})}),s?e.jsx(N,{className:"block cursor-pointer size-8 hover:text-[var(--ternery)] hover:bg-[var(--grey--200)] rounded-full p-1 transition-transform duration-300",onClick:n}):e.jsx(w,{className:"block cursor-pointer size-8 hover:text-[var(--ternery)] hover:bg-[var(--grey--200)] rounded-full p-1 transition-transform duration-300",onClick:n})]}),e.jsx(T,{user:a,miniMenu:s,handleLogout:l})]})},J=()=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{to:"/auth/sign-up",children:e.jsxs("button",{className:"hidden lg:flex bg-[var(--white-color)] items-center gap-1 rounded-[5px] shadow-[0_2px_0_0_rgba(0,0,0,0.04),_inset_0_0_0_2px_var(--grey--400)] transition-all ease-in-out duration-600 text-[var(--grey--900)] px-3 py-2 text-xs leading-[1.32] hover:bg-[var(--grey--200)]",children:[e.jsx("span",{children:"Sign Up"}),e.jsx(b,{})]})}),e.jsx(o,{to:"/auth/sign-in",children:e.jsxs("button",{className:"hidden lg:flex bg-[var(--black-color)] items-center gap-1 rounded-[5px] transition-all ease-in-out duration-600 text-[var(--white-color)] px-3 py-2 text-xs leading-[1.32] hover:bg-[var(--brand--black-pearl)]",children:[e.jsx("span",{children:"Login"}),e.jsx(b,{})]})})]}),ae=()=>e.jsx(e.Fragment,{children:e.jsx(G,{})});export{ae as default};
